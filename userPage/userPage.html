<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="./userPage.css" />
    <title>Chat App - UserPage</title>
  </head>
  <body>
    <header>
      <div class="logo"><a href="../index.html">Chat app</a></div>
      <div class="nav-links">
        <a href="../login/login.html">Login</a>
        <a href="../register/register.html">Register</a>
        <a href="../chat/chat.html">Chat</a>
      </div>
      <div class="user-info">
        <span class="username"
          ><a href="../userPage/userPage.html" class="username-text"
            >Username</a
          ></span
        >
        <div class="image-container"></div>
      </div>
    </header>

    <main class="wrapper">
      <div class="form-wrapper">
        <h1>User info:</h1>
        <div class="form-group">
          <label for="login">Login:</label>
          <span id="login">exampleuser@gmail.com</span>
        </div>
        <div class="form-group">
          <label for="firstname">First Name:</label>
          <span id="firstname">John</span>
        </div>
        <div class="form-group">
          <label for="lastname">Last Name:</label>
          <span id="lastname">Doe</span>
        </div>
        <div class="form-group">
          <label for="phonenumber">Phone Number:</label>
          <span id="phonenumber">555-555-5555</span>
        </div>
        <div class="form-group">
          <button type="submit" class="button">Logout</button>
        </div>
      </div>
    </main>

    <footer>
      <p>&copy; 2023 Chat App. All rights reserved.</p>
    </footer>

    <script src="../app.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        GetUserInfo()
          .then(function(response) {

            const userInfo = JSON.parse(response);
            console.log(userInfo);

            // Populate the user information on the page
            document.getElementById('login').innerText = userInfo.login;
            document.getElementById('firstname').innerText = userInfo.firstName;
            document.getElementById('lastname').innerText = userInfo.lastName;
            document.getElementById('phonenumber').innerText = userInfo.phone;
          })
          .catch(function(error) {
            console.error(error);
          });
      });
    </script>



  </body>
</html>
